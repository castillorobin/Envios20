<x-default-layout>
    <link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <script src="assets/plugins/global/plugins.bundle.js"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script>
        /*
        $(document).ready(function() {

            $("#envio").change(function() {
                //alert($(this).val());
                const tenv = document.getElementById("cenvio").value;
                const preci = parseFloat(document.getElementById("precio").value);
                const envi = parseFloat($(this).val());

                if (tenv == "Pagado") {
                    document.getElementById("total").value = preci;
                } else {
                    document.getElementById("total").value = preci - envi;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });

            $("#precio").change(function() {
                //alert($(this).val());
                const tenv2 = document.getElementById("cenvio").value;
                const envi2 = parseFloat(document.getElementById("envio").value);
                const preci2 = parseFloat($(this).val());

                if (tenv2 == "Pagado") {
                    document.getElementById("total").value = preci2;
                } else {
                    document.getElementById("total").value = preci2 - envi2;
                }

                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });


            $("#cenvio").change(function() {
                //alert($(this).val());
                const tenv3 = document.getElementById("precio").value;
                const envi3 = parseFloat(document.getElementById("envio").value);
                const preci3 = document.getElementById("cenvio").value;

                if (preci3 == "Pagado") {
                    document.getElementById("total").value = tenv3;
                } else {
                    document.getElementById("total").value = tenv3 - envi3;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);														//document.getElementById("ptotal").value = castot ; 

            });

        });
*/
    </script>
    <script>
        /*
        $(document).ready(function() {

            $("#envio2").change(function() {
                //alert($(this).val());
                const tenv = document.getElementById("cenvio2").value;
                const preci = parseFloat(document.getElementById("precio2").value);
                const envi = parseFloat($(this).val());

                if (tenv == "Pagado") {
                    document.getElementById("total2").value = preci;
                } else {
                    document.getElementById("total2").value = preci - envi;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });

            $("#precio2").change(function() {
                //alert($(this).val());
                const tenv2 = document.getElementById("cenvio2").value;
                const envi2 = parseFloat(document.getElementById("envio2").value);
                const preci2 = parseFloat($(this).val());

                if (tenv2 == "Pagado") {
                    document.getElementById("total2").value = preci2;
                } else {
                    document.getElementById("total2").value = preci2 - envi2;
                }

                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });


            $("#cenvio2").change(function() {
                //alert($(this).val());
                const tenv3 = document.getElementById("precio2").value;
                const envi3 = parseFloat(document.getElementById("envio2").value);
                const preci3 = document.getElementById("cenvio2").value;

                if (preci3 == "Pagado") {
                    document.getElementById("total2").value = tenv3;
                } else {
                    document.getElementById("total2").value = tenv3 - envi3;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);														//document.getElementById("ptotal").value = castot ; 

            });

        });
        */
    </script>

    <script>
        $(document).ready(function() {

            $("#envio3").change(function() {
                //alert($(this).val());
                const tenv = document.getElementById("cenvio3").value;
                const preci = parseFloat(document.getElementById("precio3").value);
                const envi = parseFloat($(this).val());

                if (tenv == "Pagado") {
                    document.getElementById("total3").value = preci;
                } else {
                    document.getElementById("total3").value = preci - envi;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });

            $("#precio3").change(function() {
                //alert($(this).val());
                const tenv2 = document.getElementById("cenvio3").value;
                const envi2 = parseFloat(document.getElementById("envio3").value);
                const preci2 = parseFloat($(this).val());

                if (tenv2 == "Pagado") {
                    document.getElementById("total3").value = preci2;
                } else {
                    document.getElementById("total3").value = preci2 - envi2;
                }

                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });


            $("#cenvio3").change(function() {
                //alert($(this).val());
                const tenv3 = document.getElementById("precio3").value;
                const envi3 = parseFloat(document.getElementById("envio3").value);
                const preci3 = document.getElementById("cenvio3").value;

                if (preci3 == "Pagado") {
                    document.getElementById("total3").value = tenv3;
                } else {
                    document.getElementById("total3").value = tenv3 - envi3;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);														//document.getElementById("ptotal").value = castot ; 

            });

        });
    </script>

    <script>
        $(document).ready(function() {

            $("#envio4").change(function() {
                //alert($(this).val());
                const tenv = document.getElementById("cenvio4").value;
                const preci = parseFloat(document.getElementById("precio4").value);
                const envi = parseFloat($(this).val());

                if (tenv == "Pagado") {
                    document.getElementById("total4").value = preci;
                } else {
                    document.getElementById("total4").value = preci - envi;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });

            $("#precio4").change(function() {
                //alert($(this).val());
                const tenv2 = document.getElementById("cenvio4").value;
                const envi2 = parseFloat(document.getElementById("envio4").value);
                const preci2 = parseFloat($(this).val());

                if (tenv2 == "Pagado") {
                    document.getElementById("total4").value = preci2;
                } else {
                    document.getElementById("total4").value = preci2 - envi2;
                }

                //const castot = parseFloat(document.getElementById("totalc").value);
                //document.getElementById("ptotal").value = castot ; 

            });


            $("#cenvio4").change(function() {
                //alert($(this).val());
                const tenv3 = document.getElementById("precio4").value;
                const envi3 = parseFloat(document.getElementById("envio4").value);
                const preci3 = document.getElementById("cenvio4").value;

                if (preci3 == "Pagado") {
                    document.getElementById("total4").value = tenv3;
                } else {
                    document.getElementById("total4").value = tenv3 - envi3;
                }


                //const castot = parseFloat(document.getElementById("totalc").value);														//document.getElementById("ptotal").value = castot ; 

            });

        });
    </script>
    <style>
        label.required::after {
            content: none;
        }
    </style>

    <div class="app-content flex-column-fluid">
        <div class="app-container container-xxl">
            <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3 pt-4 mb-4">
                <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">Melo Express</h1>
                <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                    <li class="breadcrumb-item text-muted">
                        <a href="/" class="text-muted text-hover-primary">Inicio</a>
                    </li>
                    <li class="breadcrumb-item">
                        <span class="bullet bg-gray-400 w-5px h-2px"></span>
                    </li>
                    <li class="breadcrumb-item text-muted">Gestion de envios</li>
                    <li class="breadcrumb-item">
                        <span class="bullet bg-gray-400 w-5px h-2px"></span>
                    </li>
                    <li class="breadcrumb-item text-muted">Crear envio</li>
                </ul>
            </div>
            <div class="card card-flush">
                <div class="card-body">
                    <ul class="nav nav-tabs nav-line-tabs nav-line-tabs-2x border-transparent fs-4 fw-semibold mb-15" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link text-active-primary d-flex align-items-center pb-5 " href="/envio/crear" aria-selected="true" role="tab">
                                <i class="ki-duotone ki-home fs-2 me-2"></i> Personalizado
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link text-active-primary d-flex align-items-center pb-5" href="/enviopd" aria-selected="false" role="tab" tabindex="-1">
                                <i class="ki-duotone ki-shop fs-2 me-2"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span></i> Personalizado Departamental
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link text-active-primary d-flex align-items-center pb-5 active" data-bs-toggle="tab" href="#kt_ecommerce_settings_localization" aria-selected="false" role="tab" tabindex="-1">
                                <i class="ki-duotone ki-compass fs-2 me-2"><span class="path1"></span><span class="path2"></span></i> Punto fijo
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link text-active-primary d-flex align-items-center pb-5" href="/envioca" aria-selected="false" role="tab" tabindex="-1">
                                <i class="ki-duotone ki-package fs-2 me-2"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i> Casillero
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade " id="" role="tabpanel">
                        </div>

                        <div class="tab-pane fade active show" id="kt_ecommerce_settings_localization" role="tabpanel">
                            <form id="kt_ecommerce_settings_general_localization" class="form fv-plugins-bootstrap5 fv-plugins-framework" action="#">
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-3">
                                        <input type="text" class="form-control form-control-solid" name="n_guia" id="n_guia" placeholder="# de guia" />
                                        <label for="n_guia"># de guia</label>
                                        <div id="n_guiaValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese solo números para la guía.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-12">
                                        <select class="form-select form-select-solid" name="comercio" id="comercio" aria-label="Floating label select example">
                                            <option selected>selecione el comercio</option>
                                            <option value="1">ejemplo 1</option>
                                            <option value="2">ejemplo 2</option>
                                            <option value="3">ejemplo 3</option>
                                        </select>
                                        <label for="comercio">Comercio</label>
                                        <div id="comercioValidationFeedback" class="invalid-feedback">
                                            Por favor seleccione un comercio.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-12">
                                        <input type="text" class="form-control form-control-solid" name="Destinatario" id="Destinatario" placeholder="Destinatario" />
                                        <label for="Destinatario">Destinatario</label>
                                        <div id="destinatarioValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese el destinatario.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-7 mb-4">
                                        <input type="text" class="form-control form-control-solid" name="direccion" id="direccion" placeholder="Dirección" />
                                        <label for="direccion">Dirección</label>
                                        <div id="direccionValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese una dirección.
                                        </div>
                                    </div>
                                    <div class="form-floating col-lg-5 mb-4">
                                        <input type="tel" class="form-control form-control-solid" name="telefono" id="telefono" placeholder="Teléfono" />
                                        <label for="telefono">Teléfono</label>
                                        <div id="telefonoValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese un número de teléfono válido.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-4">
                                        <input type="text" class="form-control form-control-solid" name="precio3" id="precio3" placeholder="Precio del paquete" />
                                        <label for="precio3">Precio del paquete</label>
                                        <div id="precio3ValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese un precio válido para el paquete.
                                        </div>
                                    </div>
                                    <div class="form-floating col-lg-4">
                                        <input type="text" class="form-control form-control-solid" name="envio3" id="envio3" placeholder="Precio del envío" />
                                        <label for="envio3">Precio del envío</label>
                                        <div id="envio3ValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese un precio válido para el envío.
                                        </div>
                                    </div>
                                    <div class="form-floating col-lg-4">
                                        <input type="text" class="form-control form-control-solid" name="total3" id="total3" placeholder="Total a pagar" />
                                        <label for="total3">Total a pagar</label>
                                        <div id="total3ValidationFeedback" class="invalid-feedback">
                                            Por favor ingrese un total válido a pagar.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-6">
                                        <select class="form-select form-select-solid" name="cenvio3" id="cenvio3" aria-label="Floating label select example" required>
                                            <option selected>seleccione el estado cobro</option>
                                            <option value="Pendiente">Pendiente</option>
                                            <option value="Pagado">Pagado</option>
                                        </select>
                                        <label for="cenvio3">Cobro del envío</label>
                                        <div id="cenvio3validationFeedback" class="invalid-feedback">
                                            Por favor seleccione el estado de cobro del envío.
                                        </div>
                                    </div>
                                    <div class="form-floating col-lg-6">
                                        <select class="form-select form-select-solid" name="estado_pago" id="estado_pago" aria-label="Floating label select example" required>
                                            <option selected>seleccione el estado del pago</option>
                                            <option value="por_pagar">Por pagar</option>
                                            <option value="pagado">Pagado</option>
                                        </select>
                                        <label for="estado_pago">Estado del pago</label>
                                        <div id="estadoPagoValidationFeedback" class="invalid-feedback">
                                            Por favor seleccione el estado del pago.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating col-lg-4">
                                        <select class="form-select form-select-solid" name="tipo_envio" id="tipo_envio" aria-label="Floating label select example" required>
                                            <option selected>Seleccione el tipo de envío</option>
                                            <option value="punto_fijo">Punto Fijo</option>
                                            <option value="Normal">Normal</option>
                                        </select>
                                        <label for="tipo_envio">Tipo de envío</label>
                                        <div id="tipoEnvioValidationFeedback" class="invalid-feedback">
                                            Por favor seleccione el tipo de envío.
                                        </div>
                                    </div>
                                    <div class="form-floating col-lg-4">
                                        <select class="form-select form-select-solid" name="estado_envio" id="estado_envio" aria-label="Floating label select example" required>
                                            <option selected>Seleccione el estado del envío</option>
                                            <option value="Creado">Creado</option>
                                            <option value="sin_entregar">Sin entregar</option>
                                        </select>
                                        <label for="estado_envio">Estado del envío</label>
                                        <div id="estadoEnvioValidationFeedback" class="invalid-feedback">
                                            Por favor seleccione el estado del envío.
                                        </div>
                                    </div>
                                    <div class="form-floating col-lg-4">
                                        <input type="date" class="form-control form-control-solid" name="fecha_entrega" id="fecha_entrega" placeholder="Fecha de entrega" />
                                        <label for="fecha_entrega">Fecha de entrega</label>
                                        <div id="fechaEntregaValidationFeedback" class="invalid-feedback">
                                            Por favor seleccione una fecha de entrega.
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-3 mx-3">
                                    <div class="form-floating">
                                        <textarea name="nota" class="form-control form-control-solid" placeholder="Nota" id="nota" style="height: 80px"></textarea>
                                        <label for="nota">Nota</label>
                                    </div>
                                </div>
                                <div class="row py-5">
                                    <div class="col-md-12 text-end">
                                        <div class="d-flex justify-content-end">
                                            <button type="reset" data-kt-ecommerce-settings-type="cancel" class="btn btn-light me-3">
                                                Cancel
                                            </button>
                                            <button type="submit" id="saveButton" data-kt-ecommerce-settings-type="submit" class="btn btn-primary">
                                                <span class="indicator-label">
                                                    Save
                                                </span>
                                                <span class="indicator-progress">
                                                    Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="" role="tabpanel">

                        </div>
                        <div class="tab-pane fade" id="" role="tabpanel">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</x-default-layout>
<link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
<script src="assets/plugins/global/plugins.bundle.js"></script>
<script>
    flatpickr("#fecha_entrega", {
        dateFormat: 'Y-m-d',
    });
</script>
<script src="assets/js/validacionesenviopf.js"></script>